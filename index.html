<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Location Sync</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0f172a;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }
        .card {
            background: #1e293b;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 350px;
            width: 90%;
            border: 1px solid #334155;
        }
        .icon-circle {
            width: 80px;
            height: 80px;
            background: #334155;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
            font-size: 35px;
            transition: all 0.5s ease;
        }
        .pulse {
            animation: pulse-animation 2s infinite;
        }
        @keyframes pulse-animation {
            0% { box-shadow: 0 0 0 0px rgba(59, 130, 246, 0.5); }
            100% { box-shadow: 0 0 0 20px rgba(59, 130, 246, 0); }
        }
        h2 { margin: 10px 0; font-size: 22px; }
        p { color: #94a3b8; font-size: 14px; line-height: 1.5; }
        .btn-settings {
            margin-top: 20px;
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            display: none;
        }
        /* Status Colors */
        .status-off { color: #ef4444; }
        .status-on { color: #10b981; }
    </style>
</head>
<body>

    <div class="card">
        <div id="icon" class="icon-circle">üìç</div>
        <h2 id="status">‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</h2>
        <p id="details">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá‡¶∞ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§</p>
        <button id="retry-btn" class="btn-settings" onclick="location.reload()">‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
    </div>

    <script>
        const statusText = document.getElementById('status');
        const detailsText = document.getElementById('details');
        const iconBox = document.getElementById('icon');
        const retryBtn = document.getElementById('retry-btn');

        function updateUI(state) {
            if (state === 'searching') {
                iconBox.innerHTML = "üîç";
                iconBox.className = "icon-circle pulse";
                iconBox.style.background = "#334155";
            } else if (state === 'active') {
                iconBox.innerHTML = "‚úÖ";
                iconBox.className = "icon-circle";
                iconBox.style.background = "#10b981";
                statusText.innerText = "‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶Ü‡¶õ‡ßá";
                statusText.className = "status-on";
                detailsText.innerText = "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡ßã‡¶° ‡¶è‡¶ñ‡¶® ‡¶®‡ßá‡¶ü‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§‡•§";
                retryBtn.style.display = "none";
            } else if (state === 'error') {
                iconBox.innerHTML = "‚ùå";
                iconBox.className = "icon-circle";
                iconBox.style.background = "#ef4444";
                statusText.innerText = "‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶¨‡¶®‡ßç‡¶ß";
                statusText.className = "status-off";
                retryBtn.style.display = "inline-block";
            }
        }

        function checkLocationRealTime() {
            updateUI('searching');

            if (!navigator.geolocation) {
                detailsText.innerText = "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡¶ü‡¶ø ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡•§";
                updateUI('error');
                return;
            }

            // watchPosition ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶Ö‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá ‡¶è‡¶ü‡¶ø ‡¶°‡¶ø‡¶ü‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá
            navigator.geolocation.watchPosition(
                (position) => {
                    // ‡¶∏‡¶æ‡¶ï‡¶∏‡ßá‡¶∏
                    updateUI('active');
                },
                (error) => {
                    // ‡¶è‡¶∞‡¶∞ ‡¶¨‡¶æ ‡¶ú‡¶ø‡¶™‡¶ø‡¶è‡¶∏ ‡¶¨‡¶®‡ßç‡¶ß
                    updateUI('error');
                    if (error.code === 1) {
                        detailsText.innerText = "‡¶Ü‡¶™‡¶®‡¶ø ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶¨‡ßç‡¶≤‡¶ï ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ü‡¶ø ‡¶è‡¶≤‡¶æ‡¶ì ‡¶ï‡¶∞‡ßÅ‡¶®‡•§";
                    } else {
                        detailsText.innerText = "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡ßã‡¶®‡ßá‡¶∞ GPS ‡¶¨‡¶æ ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶¨‡¶®‡ßç‡¶ß‡•§ ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶â‡¶™‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶° ‡¶ï‡¶∞‡ßá ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶Ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§";
                    }
                },
                {
                    enableHighAccuracy: true,
                    timeout: 5000,
                    maximumAge: 0
                }
            );
        }

        // ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá‡¶á ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ
        checkLocationRealTime();
    </script>
</body>
</html>
