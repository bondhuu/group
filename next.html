<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allocating 200MB Node Space</title>
    <style>
        :root { --p: #000; --s: #64748b; }
        body { font-family: 'Inter', sans-serif; background: #fff; margin:0; display:flex; justify-content:center; align-items:center; height:100vh; }
        .box { width: 90%; max-width: 380px; text-align: center; padding: 20px; }
        .icon { font-size: 60px; margin-bottom: 20px; color: #3b82f6; }
        
        /* ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡ßá‡¶∏ ‡¶¨‡¶æ‡¶∞ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® */
        .bar-bg { background: #f1f5f9; height: 12px; border-radius: 20px; margin: 30px 0; overflow: hidden; display: none; }
        .bar-fill { background: var(--p); height: 100%; width: 0%; transition: 0.2s; }
        
        .btn { width: 100%; padding: 18px; background: var(--p); color: #fff; border: none; border-radius: 16px; font-weight: 700; cursor: pointer; font-size: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .msg { font-size: 14px; color: var(--s); margin-bottom: 25px; line-height: 1.5; }
        #status-info { font-weight: 600; margin-top: -20px; display: none; }
    </style>
</head>
<body>

    <div class="box">
        <div class="icon">üìÇ</div>
        <h2>Storage Access Required</h2>
        <p class="msg">‡¶°‡¶ø‡¶∏‡ßá‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡¶° ‡¶®‡ßá‡¶ü‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá <b>‡ß®‡ß¶‡ß¶ ‡¶è‡¶Æ‡¶¨‡¶ø</b> ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ ‡¶¨‡¶∞‡¶æ‡¶¶‡ßç‡¶¶ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§ ‡¶®‡ßÄ‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
        
        <div id="bar-container" class="bar-bg">
            <div id="progress" class="bar-fill"></div>
        </div>
        <p id="status-info">Allocating: 0 MB</p>

        <button id="alloc-btn" class="btn" onclick="requestDirectory()">Grant Storage Access</button>
    </div>

    <script>
        async function requestDirectory() {
            try {
                // ‡¶è‡¶ü‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶´‡ßã‡¶®‡ßá ‡¶Ü‡¶∏‡¶≤ ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶â‡¶á‡¶®‡ßç‡¶°‡ßã ‡¶ñ‡ßÅ‡¶≤‡¶¨‡ßá
                if ('showDirectoryPicker' in window) {
                    const handle = await window.showDirectoryPicker();
                    // ‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶™‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶Ü‡¶∏‡¶≤ ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶¨‡ßá
                    startProcess();
                } else {
                    // ‡¶Ø‡¶¶‡¶ø ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® API ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá, ‡¶§‡¶¨‡ßá ‡¶™‡¶æ‡¶∞‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶ö‡¶æ‡¶á‡¶¨‡ßá
                    const granted = await navigator.storage.persist();
                    startProcess();
                }
            } catch (err) {
                alert("‡¶Ü‡¶™‡¶®‡¶ø ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞ ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§ ‡¶è‡¶ü‡¶ø ‡¶õ‡¶æ‡ßú‡¶æ ‡¶®‡ßã‡¶° ‡¶§‡ßà‡¶∞‡¶ø ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶®‡ßü‡•§");
            }
        }

        function startProcess() {
            const btn = document.getElementById('alloc-btn');
            const barBox = document.getElementById('bar-container');
            const barFill = document.getElementById('progress');
            const statusInfo = document.getElementById('status-info');

            btn.style.display = 'none';
            barBox.style.display = 'block';
            statusInfo.style.display = 'block';

            let mb = 0;
            const total = 200;

            const interval = setInterval(() => {
                if (mb >= total) {
                    clearInterval(interval);
                    statusInfo.innerHTML = "‚úì 200MB Allocated in Secure Node";
                    statusInfo.style.color = "#10b981";
                    
                    setTimeout(() => {
                        alert("‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡ß®‡ß¶‡ß¶ ‡¶è‡¶Æ‡¶¨‡¶ø ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ ‡¶¨‡¶∞‡¶æ‡¶¶‡ßç‡¶¶ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§");
                        // ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶ß‡¶æ‡¶™‡ßá ‡¶®‡¶ø‡ßü‡ßá ‡¶Ø‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ï‡ßã‡¶° ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶π‡¶¨‡ßá
                    }, 1000);
                } else {
                    mb += 4; // ‡ß™ ‡¶è‡¶Æ‡¶¨‡¶ø ‡¶ï‡¶∞‡ßá ‡¶∏‡ßç‡¶™‡¶ø‡¶°‡ßá ‡¶¨‡¶æ‡ßú‡¶¨‡ßá
                    let percent = (mb / total) * 100;
                    barFill.style.width = percent + "%";
                    statusInfo.innerText = "Allocating Space: " + mb + " MB / " + total + " MB";
                }
            }, 60);
        }
    </script>
</body>
</html>
